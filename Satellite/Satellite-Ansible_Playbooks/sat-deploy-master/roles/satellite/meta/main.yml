---
dependencies:
  - role: etc_hosts
  - role: dogfood_register
  - role: update_os_packages
  - role: compose-repository
    when:
      - use_compose_repository is defined
      - use_compose_repository

  - role: foreman_installer
    foreman_installer_scenario: satellite
    foreman_installer_command: satellite-installer
    foreman_installer_additional_packages:
      - satellite
    foreman_installer_options_internal_use_only:
      - "{{ satellite_internal_options }}"
      - "--foreman-initial-admin-password {{ foreman_installer_admin_password }}"
